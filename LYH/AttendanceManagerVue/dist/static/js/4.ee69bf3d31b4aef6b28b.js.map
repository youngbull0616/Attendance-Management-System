{"version":3,"sources":["webpack:///src/pages/work/notice/noticeList.vue","webpack:///./src/pages/work/notice/noticeList.vue?37db","webpack:///./src/pages/work/notice/noticeList.vue"],"names":["noticeList","data","tableData","title","time","place","participants","host","details","publisher","dialogFormVisible","dialogTitle","form","id","publisherNumber","publisherName","publishTime","beginDate","endDate","type","form1","number","sessionStorage","getItem","name","sex","birthday","departmentID","position","entryDate","phone","address","password","checkPass","employeeName","employeeNumber","isCreate","isUpdate","isShow","rules","required","message","trigger","validator","this","isAdmin","created","getData","getUsername","methods","_this","axios_default","a","get","then","res","resetTemp","getTime","resetForm","handleCreate","handleUpdate","row","assign_default","handleDelete","_this2","$confirm","confirmButtonText","cancelButtonText","post","$message","onSubmit","createData","_this3","$refs","validate","valid","console","log","rTime","date","json_date","Date","toJSON","toISOString","replace","_this4","year","getFullYear","month","getMonth","strDate","getDate","minute","getMinutes","hour","getHours","second","getSeconds","compareDate","start","end","rule","value","callback","Error","notice_noticeList","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","text-align","margin-left","attrs","on","click","_v","_e","margin-top","width","border","fit","highlight-current-row","prop","label","fixed","scopedSlots","_u","key","fn","scope","$event","visible","update:visible","ref","model","label-position","label-width","placeholder","readonly","$$v","$set","expression","value-format","rows","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wKAwDAA,GACAC,KADA,WAEA,OACAC,YACAC,MAAA,SACAC,KAAA,SACAC,MAAA,UACAC,aAAA,OACAC,KAAA,MACAC,QAAA,cACAC,UAAA,UAEAC,mBAAA,EACAC,YAAA,GACAC,MACAC,GAAA,GACAV,MAAA,GACAC,KAAA,GACAC,MAAA,GACAC,aAAA,GACAC,KAAA,GACAC,QAAA,GACAM,gBAAA,GACAC,cAAA,GACAC,YAAA,GACAC,UAAA,GACAC,QAAA,GACAC,KAAA,KAEAC,OACAP,GAAA,GACAQ,OAAAC,eAAAC,QAAA,YACAC,KAAA,GACAC,IAAA,GACAC,SAAA,GACAC,aAAA,GACAC,SAAA,GACAT,KAAA,GACAU,UAAA,GACAC,MAAA,GACAC,QAAA,GACAC,SAAA,GACAC,UAAA,IAEApB,GAAA,GACAqB,aAAA,GACAC,eAAA,GACAC,UAAA,EACAC,UAAA,EACAC,QAAA,EACAC,OACApC,QACAqC,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEAzB,YACA0B,UAAAC,KAAA3B,UAAAyB,QAAA,WAEAxB,UACAyB,UAAAC,KAAA1B,QAAAwB,QAAA,YAGAG,SAAA,IAGAC,QAhEA,WAiEAF,KAAAG,UACAH,KAAAI,eAEAC,SACAF,QADA,WACA,IAAAG,EAAAN,KACMO,EAAAC,EAANC,IAAA,yBAAAC,KAAA,SAAAC,GACAL,EAAAhD,UAAAqD,EAAAtD,QAGAuD,UANA,WAOAZ,KAAAhC,MACAC,GAAA,GACAV,MAAA,GACAC,KAAA,GACAC,MAAA,GACAC,aAAA,GACAC,KAAA,GACAC,QAAA,GACAM,gBAAA8B,KAAAT,eACApB,cAAA6B,KAAAV,aACAlB,YAAA4B,KAAAa,UACAxC,UAAA,GACAC,QAAA,GACAC,KAAA,MAGAuC,UAvBA,WAwBAd,KAAAhC,MACAC,GAAA,GACAV,MAAA,GACAC,KAAA,GACAC,MAAA,GACAC,aAAA,GACAC,KAAA,GACAC,QAAA,GACAM,gBAAA,GACAC,cAAA,GACAC,YAAA4B,KAAAa,UACAxC,UAAA,GACAC,QAAA,GACAC,KAAA,KAEAyB,KAAAhC,KAAAE,gBAAA8B,KAAAT,eACAS,KAAAhC,KAAAG,cAAA6B,KAAAV,aACAU,KAAAhC,KAAAI,YAAA4B,KAAAa,UACAb,KAAAhC,KAAAO,KAAA,KAEAwC,aA5CA,WA6CAf,KAAAjC,YAAA,OACAiC,KAAAR,UAAA,EACAQ,KAAAP,UAAA,EACAO,KAAAN,QAAA,EACAM,KAAAlC,mBAAA,EACAkC,KAAAc,aAEAE,aApDA,SAoDAC,GAEAjB,KAAAhC,KAAAkD,OAAAD,GACAjB,KAAAjC,YAAA,SACAiC,KAAAR,UAAA,EACAQ,KAAAP,UAAA,EACAO,KAAAN,QAAA,EACAM,KAAAlC,mBAAA,GAEAqD,aA7DA,SA6DAF,GAAA,IAAAG,EAAApB,KACAiB,IACAjB,KAAA/B,GAAAgD,EAAAhD,IAEA+B,KAAAqB,SAAA,cACAC,kBAAA,KACAC,iBAAA,KACAhD,KAAA,YACAmC,KAAA,WACQH,EAAAC,EAARgB,KAAA,uBACAvD,GAAAmD,EAAAnD,KACAyC,KAAA,SAAAC,GAEAS,EAAAK,UAAA5B,QAAA,OAAAtB,KAAA,YACA6C,EAAAjB,eAKAuB,SAhFA,aAmFAC,WAnFA,WAmFA,IAAAC,EAAA5B,KACAA,KAAA6B,MAAA,KAAAC,SAAA,SAAAC,GACA,IAAAA,EAUA,OADAC,QAAAC,IAAA,mBACA,EATAL,EAAA5D,KAAAK,UAAAuD,EAAAM,MAAAN,EAAA5D,KAAAK,WACAuD,EAAA5D,KAAAM,QAAAsD,EAAAM,MAAAN,EAAA5D,KAAAM,SACUiC,EAAAC,EAAVgB,KAAA,kBAAAI,EAAA5D,MAAA0C,KAAA,SAAAC,GACAiB,EAAA9D,mBAAA,EACA8D,EAAAH,UAAA5B,QAAA,OAAAtB,KAAA,YACAqD,EAAAzB,eAQA+B,MAnGA,SAmGAC,GACA,IAAAC,EAAA,IAAAC,KAAAF,GAAAG,SACA,WAAAD,KAAA,IAAAA,KAAAD,GAAA,OAAAG,cAAAC,QAAA,UAAAA,QAAA,kBAEApC,YAvGA,WAuGA,IAAAqC,EAAAzC,KACMO,EAAAC,EAANgB,KAAA,yBAAAxB,KAAAxB,OAAAkC,KAAA,SAAAC,GACA8B,EAAAnD,aAAAqB,EAAAtD,KAAAuB,KACA6D,EAAAlD,eAAAoB,EAAAtD,KAAAoB,OACAgE,EAAAzE,KAAAG,cAAAwC,EAAAtD,KAAAuB,KACA6D,EAAAzE,KAAAE,gBAAAyC,EAAAtD,KAAAoB,OAGA,GAAAkC,EAAAtD,KAAAkB,KACAkE,EAAAxC,SAAA,EAEAwC,EAAAxC,SAAA,KAIAY,QAtHA,WAuHA,IAAAsB,EAAA,IAAAE,KAIAK,EAAAP,EAAAQ,cACAC,EAAAT,EAAAU,WAAA,EACAC,EAAAX,EAAAY,UACAC,EAAAb,EAAAc,aACAC,EAAAf,EAAAgB,WACAC,EAAAjB,EAAAkB,aAmBA,OAjBAT,GAAA,GAAAA,GAAA,IACAA,EAAA,IAAAA,GAEAE,GAAA,GAAAA,GAAA,IACAA,EAAA,IAAAA,GAEAI,GAAA,GAAAA,GAAA,IACAA,EAAA,IAAAA,GAEAF,GAAA,GAAAA,GAAA,IACAA,EAAA,IAAAA,GAEAI,GAAA,GAAAA,GAAA,IACAA,EAAA,IAAAA,GAEAV,EAzBA,IAyBAE,EAzBA,IAyBAE,EACA,IAAAI,EAzBA,IAyBAF,EAzBA,IAyBAI,GAGAE,YArJA,SAqJAC,EAAAC,GACA,WAAAnB,KAAAmB,GAAA3C,UAAA,IAAAwB,KAAAkB,GAAA1C,WAEAxC,UAxJA,SAwJAoF,EAAAC,EAAAC,GACAD,EAIA1D,KAAAsD,YAAAtD,KAAAa,UAAA6C,GAEA1D,KAAAhC,KAAAM,QACA0B,KAAAsD,YAAAI,EAAA1D,KAAAhC,KAAAM,SAGAqF,IAFAA,EAAA,IAAAC,MAAA,kBAKAD,IARAA,EAAA,IAAAC,MAAA,kBAHAD,KAeArF,QA1KA,SA0KAmF,EAAAC,EAAAC,GACAD,GAIA1D,KAAAhC,KAAAK,UAIA2B,KAAAsD,YAAAtD,KAAAhC,KAAAK,UAAAqF,GACAC,IAEAA,EAAA,IAAAC,MAAA,kBATAD,OCtSeE,GADEC,OAFjB,WAA0B,IAAAC,EAAA/D,KAAagE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,cAAAC,aAAuCC,aAAA,UAAqBP,EAAA,QAAAG,EAAA,aAAgCE,YAAA,cAAAC,aAAuCE,cAAA,QAAqBC,OAAQjG,KAAA,WAAiBkG,IAAKC,MAAAX,EAAAhD,gBAA0BgD,EAAAY,GAAA,mBAAAZ,EAAAa,MAAA,KAAAb,EAAAY,GAAA,KAAAT,EAAA,OAAiEG,aAAaQ,aAAA,UAAqBX,EAAA,YAAiBG,aAAaS,MAAA,QAAeN,OAAQnH,KAAA0G,EAAAzG,UAAAyH,OAAA,GAAAC,IAAA,GAAAC,wBAAA,MAAsEf,EAAA,mBAAwBM,OAAOU,KAAA,QAAAC,MAAA,QAA6BpB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCM,OAAOU,KAAA,gBAAAC,MAAA,SAAsCpB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCM,OAAOU,KAAA,UAAAC,MAAA,QAA+BpB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCM,OAAOU,KAAA,YAAAC,MAAA,UAAmCpB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCM,OAAOU,KAAA,UAAAC,MAAA,UAAiCpB,EAAAY,GAAA,KAAAT,EAAA,mBAAoCM,OAAOW,MAAA,KAAAL,MAAA,MAAAM,MAAA,SAA2CC,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvB,EAAA,aAAwBM,OAAOjG,KAAA,WAAiBkG,IAAKC,MAAA,SAAAgB,GAAyB,OAAA3B,EAAA/C,aAAAyE,EAAAxE,SAAqC8C,EAAAY,GAAA,mBAAyB,OAAAZ,EAAAY,GAAA,KAAAT,EAAA,aAAsCM,OAAOjH,MAAAwG,EAAAhG,YAAA4H,QAAA5B,EAAAjG,mBAAwD2G,IAAKmB,iBAAA,SAAAF,GAAkC3B,EAAAjG,kBAAA4H,MAA+BxB,EAAA,WAAgB2B,IAAA,OAAAxB,aAAwBS,MAAA,QAAAP,cAAA,QAAqCC,OAAQ7E,MAAAoE,EAAApE,MAAAmG,MAAA/B,EAAA/F,KAAA+H,iBAAA,OAAAC,cAAA,WAAkF9B,EAAA,gBAAqBM,OAAOW,MAAA,KAAAD,KAAA,WAA6BhB,EAAA,YAAiBM,OAAOyB,YAAA,WAAAC,SAAAnC,EAAAtE,UAAiDqG,OAAQpC,MAAAK,EAAA/F,KAAA,MAAA2F,SAAA,SAAAwC,GAAgDpC,EAAAqC,KAAArC,EAAA/F,KAAA,QAAAmI,IAAiCE,WAAA,iBAA0B,GAAAtC,EAAAY,GAAA,KAAAT,EAAA,gBAAqCM,OAAOW,MAAA,OAAAD,KAAA,eAAmChB,EAAA,kBAAuBG,aAAaS,MAAA,QAAeN,OAAQjG,KAAA,OAAA0H,YAAA,SAAAK,eAAA,aAAAJ,SAAAnC,EAAAtE,UAAyFqG,OAAQpC,MAAAK,EAAA/F,KAAA,UAAA2F,SAAA,SAAAwC,GAAoDpC,EAAAqC,KAAArC,EAAA/F,KAAA,YAAAmI,IAAqCE,WAAA,qBAA8B,GAAAtC,EAAAY,GAAA,KAAAT,EAAA,gBAAqCM,OAAOW,MAAA,OAAAD,KAAA,aAAiChB,EAAA,kBAAuBG,aAAaS,MAAA,QAAeN,OAAQjG,KAAA,OAAA0H,YAAA,SAAAK,eAAA,aAAAJ,SAAAnC,EAAAtE,UAAyFqG,OAAQpC,MAAAK,EAAA/F,KAAA,QAAA2F,SAAA,SAAAwC,GAAkDpC,EAAAqC,KAAArC,EAAA/F,KAAA,UAAAmI,IAAmCE,WAAA,mBAA4B,GAAAtC,EAAAY,GAAA,KAAAT,EAAA,gBAAqCM,OAAOW,MAAA,SAAejB,EAAA,YAAiBM,OAAOyB,YAAA,YAAAC,SAAA,IAAwCJ,OAAQpC,MAAAK,EAAA/F,KAAA,cAAA2F,SAAA,SAAAwC,GAAwDpC,EAAAqC,KAAArC,EAAA/F,KAAA,gBAAAmI,IAAyCE,WAAA,yBAAkC,GAAAtC,EAAAY,GAAA,KAAAZ,EAAA,SAAAG,EAAA,gBAAoDM,OAAOW,MAAA,UAAgBjB,EAAA,YAAiBM,OAAO0B,SAAA,IAAcJ,OAAQpC,MAAAK,EAAA/F,KAAA,YAAA2F,SAAA,SAAAwC,GAAsDpC,EAAAqC,KAAArC,EAAA/F,KAAA,cAAAmI,IAAuCE,WAAA,uBAAgC,GAAAtC,EAAAa,KAAAb,EAAAY,GAAA,KAAAT,EAAA,gBAA8CM,OAAOW,MAAA,QAAcjB,EAAA,YAAiBM,OAAOjG,KAAA,WAAAgI,KAAA,EAAAN,YAAA,WAAAC,SAAAnC,EAAAtE,UAA4EqG,OAAQpC,MAAAK,EAAA/F,KAAA,QAAA2F,SAAA,SAAAwC,GAAkDpC,EAAAqC,KAAArC,EAAA/F,KAAA,UAAAmI,IAAmCE,WAAA,mBAA4B,OAAAtC,EAAAY,GAAA,KAAAT,EAAA,OAAgCE,YAAA,gBAAAI,OAAmCgC,KAAA,UAAgBA,KAAA,WAAetC,EAAA,aAAkBO,IAAIC,MAAA,SAAAgB,GAAyB3B,EAAAjG,mBAAA,MAAgCiG,EAAAY,GAAA,UAAAZ,EAAAY,GAAA,KAAAZ,EAAA,OAAAG,EAAA,aAA4DM,OAAOjG,KAAA,WAAiBkG,IAAKC,MAAA,SAAAgB,GAAyB,OAAA3B,EAAApC,iBAA0BoC,EAAAY,GAAA,UAAAZ,EAAAa,MAAA,YAEhkH6B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExJ,EACAyG,GATF,EAVA,SAAAgD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.ee69bf3d31b4aef6b28b.js","sourcesContent":["<template>\r\n  <div class=\"pro-container\">\r\n    <div class=\"filter-container\">\r\n      <div class=\"right-items\" style=\"text-align: left;\">\r\n        <el-button class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" v-if=\"isAdmin\" @click=\"handleCreate\">\r\n          发通知</el-button>\r\n      </div>\r\n    </div>\r\n    <div style=\"margin-top: 10px;\">\r\n      <el-table :data=\"tableData\" border fit highlight-current-row style=\"width: 100%\">\r\n        <el-table-column prop=\"title\" label=\"标题\"></el-table-column>\r\n        <el-table-column prop=\"publisherName\" label=\"发布人\"></el-table-column>\r\n        <el-table-column prop=\"details\" label=\"详情\"></el-table-column>\r\n        <el-table-column prop=\"beginDate\" label=\"开始日期\"></el-table-column>\r\n        <el-table-column prop=\"endDate\" label=\"结束日期\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180\" fixed=\"right\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"success\" @click=\"handleUpdate(scope.row)\"> 查看详情</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-position=\"left\" label-width=\"120px\"\r\n        style=\"width: 420px; margin-left:50px;\">\r\n        <el-form-item label=\"标题\" prop=\"title\">\r\n          <el-input v-model=\"form.title\" placeholder=\"请输入通知标题~\" :readonly=\"isUpdate\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间\" prop=\"beginDate\">\r\n          <el-date-picker v-model=\"form.beginDate\" type=\"date\" placeholder=\"选择开始日期\" value-format=\"yyyy-MM-dd\"\r\n            style=\"width: 100%;\" :readonly=\"isUpdate\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\" prop=\"endDate\">\r\n          <el-date-picker v-model=\"form.endDate\" type=\"date\" placeholder=\"选择结束日期\" value-format=\"yyyy-MM-dd\"\r\n            style=\"width: 100%;\" :readonly=\"isUpdate\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"发布人\">\r\n          <el-input v-model=\"form.publisherName\" placeholder=\"请输入通知发布人~\" readonly />\r\n        </el-form-item>\r\n        <el-form-item label=\"发布时间\" v-if=\"isUpdate\">\r\n          <el-input v-model=\"form.publishTime\" readonly />\r\n        </el-form-item>\r\n        <el-form-item label=\"详情\">\r\n          <el-input type=\"textarea\" :rows=\"2\" v-model=\"form.details\" placeholder=\"请输入通知详情~\" :readonly=\"isUpdate\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\"> 取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"createData()\" v-if=\"isShow\"> 确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [{\r\n        title: '这是一个通知',\r\n        time: '之后一年时间',\r\n        place: '公司之外的地方',\r\n        participants: '全体员工',\r\n        host: '董事长',\r\n        details: '明天开始放年假，放一年',\r\n        publisher: '系统管理员',\r\n      }],\r\n      dialogFormVisible: false,\r\n      dialogTitle: '',\r\n      form: {\r\n        id: '',\r\n        title: '',\r\n        time: '',\r\n        place: '',\r\n        participants: '',\r\n        host: '',\r\n        details: '',\r\n        publisherNumber: '',\r\n        publisherName: '',\r\n        publishTime: '',\r\n        beginDate: '',\r\n        endDate: '',\r\n        type: '2',\r\n      },\r\n      form1: {\r\n        id: '',\r\n        number: sessionStorage.getItem(\"username\"),\r\n        name: '',\r\n        sex: '',\r\n        birthday: '',\r\n        departmentID: '',\r\n        position: '',\r\n        type: '',\r\n        entryDate: '',\r\n        phone: '',\r\n        address: '',\r\n        password: '',\r\n        checkPass: '',\r\n      },\r\n      id: '',\r\n      employeeName: '',\r\n      employeeNumber: '',\r\n      isCreate: false,\r\n      isUpdate: false,\r\n      isShow: false,\r\n      rules: {\r\n        title: [\r\n          { required: true, message: '标题不能为空！', trigger: 'blur' }\r\n        ],\r\n        beginDate: [\r\n          { validator: this.beginDate, trigger: 'change' }\r\n        ],\r\n        endDate: [\r\n          { validator: this.endDate, trigger: 'change' }\r\n        ],\r\n      },\r\n      isAdmin: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.getData();\r\n    this.getUsername();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      axios.get(\"/meeting/getAllNotice\").then(res => {\r\n        this.tableData = res.data;\r\n      })\r\n    },\r\n    resetTemp() {\r\n      this.form = {\r\n        id: '',\r\n        title: '',\r\n        time: '',\r\n        place: '',\r\n        participants: '',\r\n        host: '',\r\n        details: '',\r\n        publisherNumber: this.employeeNumber,\r\n        publisherName: this.employeeName,\r\n        publishTime: this.getTime(),\r\n        beginDate: '',\r\n        endDate: '',\r\n        type: '2',\r\n      }\r\n    },\r\n    resetForm() {\r\n      this.form = {\r\n        id: '',\r\n        title: '',\r\n        time: '',\r\n        place: '',\r\n        participants: '',\r\n        host: '',\r\n        details: '',\r\n        publisherNumber: '',\r\n        publisherName: '',\r\n        publishTime: this.getTime(),\r\n        beginDate: '',\r\n        endDate: '',\r\n        type: '2',\r\n      }\r\n      this.form.publisherNumber = this.employeeNumber;\r\n      this.form.publisherName = this.employeeName;\r\n      this.form.publishTime = this.getTime();\r\n      this.form.type = '2';\r\n    },\r\n    handleCreate() {\r\n      this.dialogTitle = \"发布通知\"\r\n      this.isCreate = true\r\n      this.isUpdate = false\r\n      this.isShow = true\r\n      this.dialogFormVisible = true\r\n      this.resetForm()\r\n    },\r\n    handleUpdate(row) {\r\n      //this.tempForm = this.$wtables.getSelectedRowData(this, \"employeeList\");\r\n      this.form = Object.assign({}, row) // copy obj\r\n      this.dialogTitle = \"查看通知详情\"\r\n      this.isCreate = false\r\n      this.isUpdate = true\r\n      this.isShow = false\r\n      this.dialogFormVisible = true\r\n    },\r\n    handleDelete(row) {\r\n      if (row) {\r\n        this.id = row.id\r\n      }\r\n      this.$confirm(\"确定删除？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      }).then(() => {\r\n        axios.post(\"/meeting/deleteById\", {\r\n          id: this.id,\r\n        }).then((res) => {\r\n          //if (res.data.code == 200) {\r\n          this.$message({ message: \"删除成功\", type: \"success\" });\r\n          this.getData();\r\n          //}\r\n        });\r\n      });\r\n    },\r\n    onSubmit() {\r\n\r\n    },\r\n    createData() {\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          this.form.beginDate = this.rTime(this.form.beginDate)\r\n          this.form.endDate = this.rTime(this.form.endDate)\r\n          axios.post('/meeting/insert', this.form).then(res => {\r\n            this.dialogFormVisible = false;\r\n            this.$message({ message: \"发布成功\", type: \"success\" });\r\n            this.getData();\r\n          })\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    rTime(date) {\r\n      var json_date = new Date(date).toJSON();\r\n      return new Date(new Date(json_date) + 8 * 3600 * 1000).toISOString().replace(/T/g, ' ').replace(/\\.[\\d]{3}Z/, '')\r\n    },\r\n    getUsername() {\r\n      axios.post('/employee/findByNumber', this.form1).then(res => {\r\n        this.employeeName = res.data.name;\r\n        this.employeeNumber = res.data.number;\r\n        this.form.publisherName = res.data.name;\r\n        this.form.publisherNumber = res.data.number;\r\n\r\n\r\n        if (res.data.type == 3) {\r\n          this.isAdmin = true\r\n        } else {\r\n          this.isAdmin = false\r\n        }\r\n      })\r\n    },\r\n    getTime() {\r\n      var date = new Date();\r\n      var seperator1 = \"-\";\r\n      var seperator2 = \":\";\r\n      //以下代码依次是获取当前时间的年月日时分秒\r\n      var year = date.getFullYear();\r\n      var month = date.getMonth() + 1;\r\n      var strDate = date.getDate();\r\n      var minute = date.getMinutes();\r\n      var hour = date.getHours();\r\n      var second = date.getSeconds();\r\n      //固定时间格式\r\n      if (month >= 1 && month <= 9) {\r\n        month = \"0\" + month;\r\n      }\r\n      if (strDate >= 0 && strDate <= 9) {\r\n        strDate = \"0\" + strDate;\r\n      }\r\n      if (hour >= 0 && hour <= 9) {\r\n        hour = \"0\" + hour;\r\n      }\r\n      if (minute >= 0 && minute <= 9) {\r\n        minute = \"0\" + minute;\r\n      }\r\n      if (second >= 0 && second <= 9) {\r\n        second = \"0\" + second;\r\n      }\r\n      var currentdate = year + seperator1 + month + seperator1 + strDate\r\n        + \" \" + hour + seperator2 + minute + seperator2 + second;\r\n      return currentdate;\r\n    },\r\n    compareDate(start, end) {\r\n      return new Date(end).getTime() > new Date(start).getTime()\r\n    },\r\n    beginDate(rule, value, callback) {\r\n      if (!value) {\r\n        //callback(new Error('开始日期不能为空！'));\r\n        callback()\r\n      } else {\r\n        if (!this.compareDate(this.getTime(), value)) {\r\n          callback(new Error('不能早于当前日期请重新选择'))\r\n        } else if (this.form.endDate) {\r\n          if (!this.compareDate(value, this.form.endDate)) {\r\n            callback(new Error('不能晚于结束日期请重新选择'))\r\n          } else {\r\n            callback()\r\n          }\r\n        } else {\r\n          callback()\r\n        }\r\n      }\r\n    },\r\n    endDate(rule, value, callback) {\r\n      if (!value) {\r\n        //callback(new Error('结束日期不能为空！'));\r\n        callback()\r\n      } else {\r\n        if (!this.form.beginDate) {\r\n          callback()\r\n        } else {\r\n          // 开始日期有\r\n          if (this.compareDate(this.form.beginDate, value)) {\r\n            callback()\r\n          } else {\r\n            callback(new Error('不能早于开始日期请重新选择'))\r\n          }\r\n        }\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.pro-container {\r\n  padding: 15px 32px;\r\n  margin: 4px 2px;\r\n}\r\n\r\n.fenye {\r\n  margin-top: 10px;\r\n}</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/work/notice/noticeList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pro-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('div',{staticClass:\"right-items\",staticStyle:{\"text-align\":\"left\"}},[(_vm.isAdmin)?_c('el-button',{staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n        发通知\")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"publisherName\",\"label\":\"发布人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"details\",\"label\":\"详情\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"beginDate\",\"label\":\"开始日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"endDate\",\"label\":\"结束日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.row)}}},[_vm._v(\" 查看详情\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"420px\",\"margin-left\":\"50px\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入通知标题~\",\"readonly\":_vm.isUpdate},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"prop\":\"beginDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择开始日期\",\"value-format\":\"yyyy-MM-dd\",\"readonly\":_vm.isUpdate},model:{value:(_vm.form.beginDate),callback:function ($$v) {_vm.$set(_vm.form, \"beginDate\", $$v)},expression:\"form.beginDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"prop\":\"endDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择结束日期\",\"value-format\":\"yyyy-MM-dd\",\"readonly\":_vm.isUpdate},model:{value:(_vm.form.endDate),callback:function ($$v) {_vm.$set(_vm.form, \"endDate\", $$v)},expression:\"form.endDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发布人\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入通知发布人~\",\"readonly\":\"\"},model:{value:(_vm.form.publisherName),callback:function ($$v) {_vm.$set(_vm.form, \"publisherName\", $$v)},expression:\"form.publisherName\"}})],1),_vm._v(\" \"),(_vm.isUpdate)?_c('el-form-item',{attrs:{\"label\":\"发布时间\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.form.publishTime),callback:function ($$v) {_vm.$set(_vm.form, \"publishTime\", $$v)},expression:\"form.publishTime\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"详情\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入通知详情~\",\"readonly\":_vm.isUpdate},model:{value:(_vm.form.details),callback:function ($$v) {_vm.$set(_vm.form, \"details\", $$v)},expression:\"form.details\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\" 取 消\")]),_vm._v(\" \"),(_vm.isShow)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.createData()}}},[_vm._v(\" 确 定\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65769886\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/work/notice/noticeList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-65769886\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./noticeList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./noticeList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./noticeList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65769886\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./noticeList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-65769886\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/work/notice/noticeList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}