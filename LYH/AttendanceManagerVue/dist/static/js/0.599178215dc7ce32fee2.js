webpackJsonp([0],{"65m7":function(t,e){},"hj/z":function(t,e,i){t.exports=i.p+"static/img/001.06779cb.jpg"},ovny:function(t,e,i){t.exports=i.p+"static/img/002.69d3a2a.jpg"},vkyI:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("woOf"),a=i.n(s),n=i("mtWM"),o=i.n(n),c={data:function(){return{username:"",dialogFormVisible:!1,form:{id:"",number:sessionStorage.getItem("username"),name:"",sex:"",birthday:"",departmentID:"",position:"",type:"",entryDate:"",phone:"",address:"",password:"",checkPass:""},currentTime:"",value:new Date,isOn:!1,isOff:!1,isCheck:!0,noticeList:[],checkForm:{id:"",employeeID:sessionStorage.getItem("username"),date:"",remarks:"",time:"",checkOnTime:"",checkOffTime:" ",checkOnStatus:"",checkOffStatus:""},isLeave:!1,jitangList:[{jitang:"星光不问赶路人，时光不负有心人。"},{jitang:"不要等待机会，而要创造机会。"},{jitang:"没有伞的孩子，必须努力奔跑。"},{jitang:"不为失败找理由，要为成功找方法。"}],jitangNumber:0,isDuoyun:!1,isXiayu:!1,isXiaxue:!1,isYin:!1,isSunny:!1,onTime:"08:00",offTime:"17:30"}},created:function(){this.getUsername(),this.getNotice(),this.getCheckOn(),this.getCheckOff(),this.getJiTang(),this.updateTime(),setInterval(this.updateTime,1e3),this.getAttendanceTime()},methods:{getAttendanceTime:function(){var t=this;o.a.get("/enum/getAttendanceTime").then(function(e){t.onTime=e.data.split("-")[0],t.offTime=e.data.split("-")[1]}).catch(function(t){console.log(t)})},showAnnouncement:function(t){this.form=a()({},t),this.dialogFormVisible=!0},updateTime:function(){var t=new Date,e=this.formatTime(t.getHours()),i=this.formatTime(t.getMinutes()),s=this.formatTime(t.getSeconds());this.currentTime=e+":"+i+":"+s},formatTime:function(t){return t<10?"0"+t:t},getUsername:function(){var t=this;o.a.post("/employee/findByNumber",this.form).then(function(e){if(!document.cookie.split(";").some(function(t){return t.trim().startsWith("LOGIN=")}))return t.$router.push("/"),void t.$message({message:"未登录或登录信息过期",type:"error"});t.username=e.data.name}).catch(function(t){console.log(t)})},goTo:function(t){this.$router.push(t)},checkOn:function(){var t=this;this.isLeave?this.$message({message:"请假无需打卡",type:"error"}):this.isOn?this.$message({message:"请勿重复打卡",type:"error"}):(this.checkForm.checkOnTime=this.getTime(),o.a.post("/check/checkOn",this.checkForm).then(function(e){t.$message({message:"上班打卡成功",type:"success"}),t.isOn=!0,t.isCheck=!1}))},checkOff:function(){var t=this;this.isOff?this.$message({message:"请勿重复打卡",type:"error"}):(this.checkForm.checkOffTime=this.getTime(),o.a.post("/check/checkOff",this.checkForm).then(function(e){t.$message({message:"下班打卡成功",type:"success"}),t.isOff=!0,t.isCheck=!0}))},getCheckOn:function(){var t=this;this.checkForm.checkOnTime=this.getTime(),o.a.post("/check/getCheckOn",this.checkForm).then(function(e){"0"==e.data?t.isOn=!1:"1"==e.data?(t.isOn=!0,t.isCheck=!1):"2"==e.data&&(t.isLeave=!0),t.resetCheckForm()})},getCheckOff:function(){var t=this;this.checkForm.checkOffTime=this.getTime(),o.a.post("/check/getCheckOff",this.checkForm).then(function(e){"0"==e.data?t.isOff=!1:"1"==e.data&&(t.isOff=!0,t.isCheck=!0),t.resetCheckForm()})},getNotice:function(){var t=this;o.a.get("/meeting/getNotice").then(function(e){t.noticeList=e.data})},getTime:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),a=t.getMinutes(),n=t.getHours(),o=t.getSeconds();return i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s),n>=0&&n<=9&&(n="0"+n),a>=0&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o),e+"-"+i+"-"+s+" "+n+":"+a+":"+o},resetCheckForm:function(){this.checkForm={id:"",employeeID:sessionStorage.getItem("username"),date:"",remarks:"",time:"",checkOnTime:"",checkOffTime:"",checkOnStatus:"",checkOffStatus:""}},getJiTang:function(){this.jitangNumber=Math.round(3*Math.random())}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block",staticStyle:{width:"100%"}},[s("el-row",{attrs:{gutter:16}},[s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"box-card",staticStyle:{height:"385px",margin:"2px"}},[s("div",{staticClass:"clearfix",staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"to-attendance"},[t._v(" 签到打卡")])]),t._v(" "),s("div",{staticClass:"text item"},[s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticStyle:{"background-color":"lightgrey",height:"50px",width:"120px","border-radius":"10px"}},[s("div",[s("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("上班"+t._s(t.onTime))])]),t._v(" "),s("div",[s("b",[t.isLeave?s("span",{staticStyle:{color:"#FFCC00"}},[t._v("请假")]):t.isOn?s("span",{staticStyle:{color:"green"}},[t._v("已打卡")]):s("span",{staticStyle:{color:"red"}},[t._v("未打卡")])])])])]),t._v(" "),s("el-col",{staticStyle:{display:"flex","justify-content":"flex-end"},attrs:{span:12}},[s("div",{staticStyle:{"background-color":"lightgrey",height:"50px",width:"120px","border-radius":"10px"}},[s("div",[s("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("下班"+t._s(t.offTime))])]),t._v(" "),s("div",[s("b",[t.isLeave?s("span",{staticStyle:{color:"#FFCC00"}},[t._v("请假")]):t.isOff?s("span",{staticStyle:{color:"green"}},[t._v("已打卡")]):s("span",{staticStyle:{color:"red"}},[t._v("未打卡")])])])])]),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[s("div",{staticClass:"text item",staticStyle:{"margin-top":"30px"}},[t.isOn?t._e():s("el-button",{staticStyle:{width:"150px",height:"150px","border-radius":"50%",border:"none"},attrs:{type:"success"},on:{click:function(e){return t.checkOn()}}},[s("div",{staticClass:"click-now"},[t._v("\n                    上班打卡\n                  ")]),t._v(" "),s("div",{staticStyle:{"font-size":"16px"}},[t._v("\n                    "+t._s(t.currentTime)+"\n                  ")])]),t._v(" "),t.isOn&&!t.isOff?s("el-button",{staticStyle:{width:"150px",height:"150px","border-radius":"50%",border:"none"},attrs:{type:"danger"},on:{click:function(e){return t.checkOff()}}},[s("div",{staticClass:"click-now"},[t._v("\n                    下班打卡\n                  ")]),t._v(" "),s("div",{staticStyle:{"font-size":"16px"}},[t._v("\n                    "+t._s(t.currentTime)+"\n                  ")])]):t._e(),t._v(" "),t.isOn&&t.isOff?s("el-button",{staticStyle:{width:"150px",height:"150px","border-radius":"50%",border:"none"},attrs:{type:"info",disabled:""},on:{click:function(e){return t.checkOff()}}},[s("div",{staticClass:"click-now"},[t._v("\n                    打卡结束\n                  ")])]):t._e()],1),t._v(" "),s("div",{staticStyle:{float:"right","margin-right":"10px"}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.goTo("/check")}}},[t._v("我的考勤>>")])],1)])],1)],1)]),t._v(" "),s("br"),t._v(" "),s("el-card",{staticClass:"box-card",staticStyle:{height:"307px",margin:"2px"}},[s("div",{staticClass:"clearfix",staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"announcement"},[t._v(" 通知公告")]),t._v(" "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:function(e){return t.goTo("/notice")}}},[t._v(" 更多")])],1),t._v(" "),s("div",{staticClass:"text item"},t._l(t.noticeList,function(e){return s("div",{key:e.id,staticStyle:{height:"35px",display:"flex","justify-content":"space-between"}},[s("div",[s("span",{staticStyle:{"font-size":"14px",color:"gray"}},[s("el-link",{on:{click:function(i){return t.showAnnouncement(e)}}},[t._v(t._s(e.title))])],1)]),t._v(" "),s("div",[s("span",{staticStyle:{"font-size":"14px",color:"gray"}},[t._v(t._s(e.date))])])])}),0)])],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"welcome"},[s("b",[t._v("\n\n          欢迎您，"+t._s(this.username)+"\n        ")])]),t._v(" "),s("hr"),t._v(" "),s("el-calendar",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("br"),t._v(" "),s("el-carousel",{attrs:{height:"280px"}},[s("el-carousel-item",[s("img",{staticClass:"image",staticStyle:{width:"100%",height:"100%"},attrs:{src:i("hj/z")}})]),t._v(" "),s("el-carousel-item",[s("img",{staticClass:"image",staticStyle:{width:"100%",height:"100%"},attrs:{src:i("ovny")}})])],1)],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"box-card",staticStyle:{height:"298px",margin:"2px"}},[s("div",{staticClass:"clearfix",staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"today-tips"},[t._v(" 每日金句")])]),t._v(" "),s("div",{staticClass:"text item",staticStyle:{"line-height":"60px"}},[s("h3",[t._v(t._s(this.jitangList[this.jitangNumber].jitang))])])])],1)],1),t._v(" "),s("el-row",{attrs:{gutter:16}}),t._v(" "),s("el-dialog",{attrs:{title:"通知",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[s("el-form",{ref:"form",staticStyle:{width:"420px","margin-left":"50px"},attrs:{model:t.form,"label-position":"left","label-width":"120px"}},[s("el-form-item",{attrs:{label:"标题",prop:"title"}},[s("el-input",{attrs:{placeholder:"请输入通知标题~",readonly:!0},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"开始时间",prop:"beginDate"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始日期","value-format":"yyyy-MM-dd",readonly:!0},model:{value:t.form.beginDate,callback:function(e){t.$set(t.form,"beginDate",e)},expression:"form.beginDate"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"结束时间",prop:"endDate"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束日期","value-format":"yyyy-MM-dd",readonly:!0},model:{value:t.form.endDate,callback:function(e){t.$set(t.form,"endDate",e)},expression:"form.endDate"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"发布人"}},[s("el-input",{attrs:{placeholder:"请输入通知发布人~",readonly:""},model:{value:t.form.publisherName,callback:function(e){t.$set(t.form,"publisherName",e)},expression:"form.publisherName"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"发布时间"}},[s("el-input",{attrs:{readonly:""},model:{value:t.form.publishTime,callback:function(e){t.$set(t.form,"publishTime",e)},expression:"form.publishTime"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"详情"}},[s("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入通知详情~",readonly:!0},model:{value:t.form.details,callback:function(e){t.$set(t.form,"details",e)},expression:"form.details"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(" 取 消")])],1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")(c,r,!1,function(t){i("65m7")},null,null);e.default=l.exports}});
//# sourceMappingURL=0.599178215dc7ce32fee2.js.map