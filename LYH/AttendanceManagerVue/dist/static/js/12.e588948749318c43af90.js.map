{"version":3,"sources":["webpack:///src/pages/work/apply/fixedAssets.vue","webpack:///./src/pages/work/apply/fixedAssets.vue?d62a","webpack:///./src/pages/work/apply/fixedAssets.vue"],"names":["fixedAssets","data","tableData","ruleForm","employeeNumber","sessionStorage","getItem","employeeName","number","name","typeID","price","applyTime","this","getTime","taskTypeID","status","approvalID","rules","required","message","trigger","min","max","type","form","id","sex","birthday","departmentID","position","entryDate","phone","address","password","checkPass","isshowForm","isshowResult","dialogFormVisible","dialogTitle","isPass","isNotApproval","isCreate","isUpdate","isApproval","typeList","created","getData","getUsername","methods","_this","axios_default","a","post","then","res","forEach","item","statusName","submitForm","formName","_this2","$refs","validate","valid","code","$message","resetFields","resetForm","_this3","date","Date","year","getFullYear","month","getMonth","strDate","getDate","minute","getMinutes","hour","getHours","second","getSeconds","handleCreate","getTypeList","handleUpdate","row","assign_default","_this4","get","apply_fixedAssets","render","_vm","_h","$createElement","_c","_self","staticStyle","text-align","margin-left","staticClass","attrs","on","click","$event","_v","display","flex-direction","flex-wrap","_l","key","width","margin","scopedSlots","_u","fn","color","float","_s","padding","proxy","typeName","title","visible","update:visible","ref","model","label-width","label","prop","readonly","value","callback","$$v","$set","expression","_e","placeholder","_n","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/12.e588948749318c43af90.js","sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"text-align: left; margin-left: 20px;\">\r\n      <el-button class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" @click=\"handleCreate()\"> 发起申请</el-button>\r\n    </div>\r\n    <div style=\"display: flex; flex-direction: row; flex-wrap: wrap;\">\r\n      <el-card class=\"box-card\" v-for=\"item in tableData\" :key=\"item.id\" style=\"width: 450px; margin: 20px;\">\r\n        <template #header>\r\n          <div class=\"card-header\">\r\n            <span style=\"color: green; float: left;\" v-if=\"item.isPass\">{{ item.statusName }}</span>\r\n            <span style=\"color: gray; float: left;\" v-else-if=\"item.isNotApproval\">{{ item.statusName }}</span>\r\n            <span style=\"color: red; float: left;\" v-else>{{ item.statusName }}</span>\r\n            <span>{{ ruleForm.employeeName }}提交的固定资产申请</span>\r\n            <el-button class=\"button\" type=\"text\" style=\"float: right; padding: 3px 0\"\r\n              @click=\"handleUpdate(item)\">查看详情</el-button>\r\n          </div>\r\n        </template>\r\n        <div class=\"text item\">\r\n          {{ '类型：' + item.typeName }}\r\n        </div>\r\n        <div class=\"text item\">\r\n          {{ '申请时间：' + item.applyTime }}\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\"\r\n        style=\"width:100%;\" v-if=\"isshowForm\">\r\n        <el-form-item label=\"申请人\" prop=\"employeeName\">\r\n          <el-input v-model=\"ruleForm.employeeName\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"申请时间\" prop=\"applyTime\" v-if=\"isUpdate\">\r\n          <el-input v-model=\"ruleForm.applyTime\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"编号\" prop=\"number\">\r\n          <el-input v-model=\"ruleForm.number\" placeholder=\"请输入固定资产编号\" :readonly=\"isUpdate\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"名称\" prop=\"name\">\r\n          <el-input v-model=\"ruleForm.name\" placeholder=\"请输入固定资产名称\" :readonly=\"isUpdate\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"价格\" prop=\"price\">\r\n          <el-input v-model.number=\"ruleForm.price\" placeholder=\"请输入固定资产价格\" :readonly=\"isUpdate\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"类别\" prop=\"typeID\">\r\n          <el-select v-model=\"ruleForm.typeID\" placeholder=\"请选择固定资产类别\" :disabled=\"isUpdate\" style=\"width: 100%;\">\r\n            <el-option v-for=\"item in typeList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"审批人\" prop=\"approvalName\" v-if=\"isApproval\">\r\n          <el-input v-model=\"ruleForm.approvalName\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"审批时间\" prop=\"approvalTime\" v-if=\"isApproval\">\r\n          <el-input v-model=\"ruleForm.approvalTime\" readonly></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"审批状态\" prop=\"course\" v-if=\"isUpdate\">\r\n          <el-input v-model=\"ruleForm.statusName\" :readonly=\"isUpdate\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"dialogFormVisible = false\"> 取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\" v-if=\"isCreate\"> 立即申请</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      ruleForm: {\r\n        employeeNumber: sessionStorage.getItem(\"username\"),\r\n        employeeName: '',\r\n        number: '',\r\n        name: '',\r\n        typeID: '',\r\n        price: '',\r\n        applyTime: this.getTime(),\r\n        taskTypeID: '2',\r\n        status: '',\r\n        approvalID: '',\r\n      },\r\n      rules: {\r\n        number: [\r\n          { required: true, message: '请输入固定资产编号', trigger: 'blur' },\r\n          { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\r\n        ],\r\n        name: [\r\n          { required: true, message: '请输入固定资产名称', trigger: 'blur' },\r\n          { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\r\n        ],\r\n        typeID: [\r\n          { required: true, message: '请选择固定资产类别', trigger: 'change' }\r\n        ],\r\n        price: [\r\n          { required: true, message: '价格不能为空' },\r\n          { type: 'number', message: '价格必须为数字值' }\r\n        ],\r\n      },\r\n      form: {\r\n        id: '',\r\n        number: sessionStorage.getItem(\"username\"),\r\n        name: '',\r\n        sex: '',\r\n        birthday: '',\r\n        departmentID: '',\r\n        position: '',\r\n        type: '',\r\n        entryDate: '',\r\n        phone: '',\r\n        address: '',\r\n        password: '',\r\n        checkPass: '',\r\n      },\r\n      isshowForm: true,\r\n      isshowResult: false,\r\n      dialogFormVisible: false,\r\n      dialogTitle: '',\r\n      isPass: false,\r\n      isNotApproval: false,\r\n      isCreate: false,\r\n      isUpdate: false,\r\n      isApproval: false,\r\n      employeeName: '',\r\n      employeeNumber: '',\r\n      typeList: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n    this.getUsername();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      axios.post('/fixedasset/findByEmployeeNumber', {\r\n        employeeNumber: sessionStorage.getItem(\"username\"),\r\n      }).then(res => {\r\n        this.tableData = res.data;\r\n        this.tableData.forEach(item => {\r\n          if (item.status == '0') {\r\n            item.statusName = '待审批'\r\n            item.isNotApproval = true\r\n          } else if (item.status == '1') {\r\n            item.statusName = '已通过'\r\n            item.isPass = true\r\n          } else if (item.status == '2') {\r\n            item.statusName = '已驳回'\r\n          } else if (item.status == '3') {\r\n            item.statusName = '已撤销'\r\n          }\r\n        })\r\n      })\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          axios.post('/fixedasset/insert', this.ruleForm).then(res => {\r\n            if (res.data.code == 200) {\r\n              this.dialogFormVisible = false;\r\n              this.$message({ message: \"申请成功\", type: \"success\" });\r\n              this.$refs[formName].resetFields();\r\n              this.ruleForm.employeeName = this.employeeName;\r\n              this.ruleForm.applyTime = this.getTime();\r\n              this.dialogFormVisible = false;\r\n              this.getData();\r\n            } else if (res.data.code == 20005) {\r\n              this.$message({ message: \"该编号已存在\", type: \"error\" });\r\n            }\r\n          })\r\n        } else {\r\n          //console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm() {\r\n      this.$refs['ruleForm'].resetFields();\r\n      this.ruleForm.employeeName = this.employeeName;\r\n      this.ruleForm.applyTime = this.getTime();\r\n      this.employeeNumber = sessionStorage.getItem(\"username\");\r\n      this.taskTypeID = '2';\r\n    },\r\n    getUsername() {\r\n      axios.post('/employee/findByNumber', this.form).then(res => {\r\n        this.employeeName = res.data.name;\r\n        this.employeeNumber = res.data.number;\r\n        this.ruleForm.employeeName = res.data.name;\r\n        this.ruleForm.employeeNumber = res.data.number;\r\n      })\r\n    },\r\n    getTime() {\r\n      var date = new Date();\r\n      var seperator1 = \"-\";\r\n      var seperator2 = \":\";\r\n      //以下代码依次是获取当前时间的年月日时分秒\r\n      var year = date.getFullYear();\r\n      var month = date.getMonth() + 1;\r\n      var strDate = date.getDate();\r\n      var minute = date.getMinutes();\r\n      var hour = date.getHours();\r\n      var second = date.getSeconds();\r\n      //固定时间格式\r\n      if (month >= 1 && month <= 9) {\r\n        month = \"0\" + month;\r\n      }\r\n      if (strDate >= 0 && strDate <= 9) {\r\n        strDate = \"0\" + strDate;\r\n      }\r\n      if (hour >= 0 && hour <= 9) {\r\n        hour = \"0\" + hour;\r\n      }\r\n      if (minute >= 0 && minute <= 9) {\r\n        minute = \"0\" + minute;\r\n      }\r\n      if (second >= 0 && second <= 9) {\r\n        second = \"0\" + second;\r\n      }\r\n      var currentdate = year + seperator1 + month + seperator1 + strDate\r\n        + \" \" + hour + seperator2 + minute + seperator2 + second;\r\n      return currentdate;\r\n    },\r\n    handleCreate() {\r\n      //this.resetForm(this.ruleForm)\r\n      //this.getTypeList()\r\n      //this.resetTemp()\r\n      this.getTypeList()\r\n      this.dialogTitle = \"发送申请\"\r\n      this.isCreate = true\r\n      this.isUpdate = false\r\n      this.isApproval = false\r\n      this.dialogFormVisible = true\r\n      this.resetForm()\r\n    },\r\n    handleUpdate(row) {\r\n      \r\n      this.ruleForm = Object.assign({}, row) // copy obj\r\n      this.ruleForm.employeeName = this.employeeName;\r\n      if (this.ruleForm.status == '0') {\r\n        this.isApproval = false\r\n      } else if (this.ruleForm.status == '1' || this.ruleForm.status == '2') {\r\n        this.isApproval = true\r\n      }\r\n      this.dialogTitle = \"申请详情\"\r\n      this.isUpdate = true\r\n      this.isCreate = false\r\n      this.dialogFormVisible = true\r\n    },\r\n    getTypeList() {\r\n      axios.get('/fixedassetType/list').then(res => {\r\n        this.typeList = res.data;\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/work/apply/fixedAssets.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"text-align\":\"left\",\"margin-left\":\"20px\"}},[_c('el-button',{staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleCreate()}}},[_vm._v(\" 发起申请\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"flex-wrap\":\"wrap\"}},_vm._l((_vm.tableData),function(item){return _c('el-card',{key:item.id,staticClass:\"box-card\",staticStyle:{\"width\":\"450px\",\"margin\":\"20px\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"card-header\"},[(item.isPass)?_c('span',{staticStyle:{\"color\":\"green\",\"float\":\"left\"}},[_vm._v(_vm._s(item.statusName))]):(item.isNotApproval)?_c('span',{staticStyle:{\"color\":\"gray\",\"float\":\"left\"}},[_vm._v(_vm._s(item.statusName))]):_c('span',{staticStyle:{\"color\":\"red\",\"float\":\"left\"}},[_vm._v(_vm._s(item.statusName))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.ruleForm.employeeName)+\"提交的固定资产申请\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"button\",staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleUpdate(item)}}},[_vm._v(\"查看详情\")])],1)]},proxy:true}],null,true)},[_vm._v(\" \"),_c('div',{staticClass:\"text item\"},[_vm._v(\"\\n        \"+_vm._s('类型：' + item.typeName)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"text item\"},[_vm._v(\"\\n        \"+_vm._s('申请时间：' + item.applyTime)+\"\\n      \")])])}),1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[(_vm.isshowForm)?_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",staticStyle:{\"width\":\"100%\"},attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"申请人\",\"prop\":\"employeeName\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.ruleForm.employeeName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"employeeName\", $$v)},expression:\"ruleForm.employeeName\"}})],1),_vm._v(\" \"),(_vm.isUpdate)?_c('el-form-item',{attrs:{\"label\":\"申请时间\",\"prop\":\"applyTime\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.ruleForm.applyTime),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"applyTime\", $$v)},expression:\"ruleForm.applyTime\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"编号\",\"prop\":\"number\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入固定资产编号\",\"readonly\":_vm.isUpdate},model:{value:(_vm.ruleForm.number),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"number\", $$v)},expression:\"ruleForm.number\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入固定资产名称\",\"readonly\":_vm.isUpdate},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入固定资产价格\",\"readonly\":_vm.isUpdate},model:{value:(_vm.ruleForm.price),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"price\", _vm._n($$v))},expression:\"ruleForm.price\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类别\",\"prop\":\"typeID\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择固定资产类别\",\"disabled\":_vm.isUpdate},model:{value:(_vm.ruleForm.typeID),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"typeID\", $$v)},expression:\"ruleForm.typeID\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),(_vm.isApproval)?_c('el-form-item',{attrs:{\"label\":\"审批人\",\"prop\":\"approvalName\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.ruleForm.approvalName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"approvalName\", $$v)},expression:\"ruleForm.approvalName\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.isApproval)?_c('el-form-item',{attrs:{\"label\":\"审批时间\",\"prop\":\"approvalTime\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.ruleForm.approvalTime),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"approvalTime\", $$v)},expression:\"ruleForm.approvalTime\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.isUpdate)?_c('el-form-item',{attrs:{\"label\":\"审批状态\",\"prop\":\"course\"}},[_c('el-input',{attrs:{\"readonly\":_vm.isUpdate},model:{value:(_vm.ruleForm.statusName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"statusName\", $$v)},expression:\"ruleForm.statusName\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\" 取 消\")]),_vm._v(\" \"),(_vm.isCreate)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\" 立即申请\")]):_vm._e()],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21779778\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/work/apply/fixedAssets.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fixedAssets.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fixedAssets.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21779778\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./fixedAssets.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/work/apply/fixedAssets.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}